<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>정보 수정</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"> 
    </head>
<body>

    <div th:replace="~{fragments/sidebar :: sidebar}"></div>

    <div class="main-container">
        
        <div th:replace="~{fragments/header :: header}"></div>

        <div class="section-box user-update-page">
            <div class="update-form-box">
                <h2>회원 정보 수정</h2>
                <hr>
                
                <form th:action="@{/login/user_modify_pro}" method="post">
                    <div class="input-group">
                        <label>아이디</label>
                        <input type="text" name="id" th:value="${session.user.id}" readonly>
                    </div>

                    <div class="input-group">
                        <label>새 비밀번호</label>
                        <input type="password" name="pw" placeholder="비밀번호 변경 시 입력">
                    </div>

                    <div class="input-group">
                        <label>이름</label>
                        <input type="text" name="name" th:value="${session.user.name}" required>
                    </div>

                    <div class="input-group">
                        <label>전화번호</label>
                        <input type="text" name="tel" th:value="${session.user.tel}">
                    </div>

                    <div class="input-group">
                        <label>이메일</label>
                        <div class="email-group">
                            <input type="text" name="email1" 
                                   th:value="${session.user.email != null and #strings.contains(session.user.email, '@') ? #strings.arraySplit(session.user.email, '@')[0] : ''}">
                            <span>@</span>
                            <input type="text" name="email2" 
                                   th:value="${session.user.email != null and #strings.contains(session.user.email, '@') ? #strings.arraySplit(session.user.email, '@')[1] : ''}">
                        </div>
                    </div>

                    <button type="submit" class="btn-update">정보 수정 완료</button>
                </form>
            </div>
        </div>

        <footer style="text-align: center; color: #999; margin-top: auto; padding-top: 30px;">
            <p>© 2026 개인 블로그. All rights reserved.</p>
        </footer>
    </div>

</body>
</html>